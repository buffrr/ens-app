!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("bech32"),require("crypto-addr-codec")):"function"==typeof define&&define.amd?define(["exports","bech32","crypto-addr-codec"],e):e((r=r||self).addressEncoder={},r.bech32,r.cryptoAddrCodec)}(this,function(r,e,n){function o(r,e){return function(o){var t;switch(o.readUInt8(0)){case 118:if(169!==o.readUInt8(1)||136!==o.readUInt8(o.length-2)||172!==o.readUInt8(o.length-1))throw Error("Unrecognised address format");return t=Buffer.concat([Buffer.from([r]),o.slice(3,3+o.readUInt8(2))]),n.bs58Encode(t);case 169:if(135!==o.readUInt8(o.length-1))throw Error("Unrecognised address format");return t=Buffer.concat([Buffer.from([e]),o.slice(2,2+o.readUInt8(1))]),n.bs58Encode(t);default:throw Error("Unrecognised address format")}}}function t(r,e){return function(o){var t=n.bs58Decode(o),c=t.readUInt8(0);if(r.includes(c))return Buffer.concat([Buffer.from([118,169,20]),t.slice(1),Buffer.from([136,172])]);if(e.includes(c))return Buffer.concat([Buffer.from([169,20]),t.slice(1),Buffer.from([135])]);throw Error("Unrecognised address format")}}var c=function(r,e,n,c){return{coinType:e,decoder:t(n,c),encoder:o(n[0],c[0]),name:r}};function f(r,n,t){var c=function(r){return function(n){var o=n.readUInt8(0);if(o>=81&&o<=96)o-=80;else if(0!==o)throw Error("Unrecognised address format");var t=[o].concat(e.toWords(n.slice(2,n.readUInt8(1)+2)));return e.encode(r,t)}}(r),f=o(n,t);return function(r){try{return f(r)}catch(e){return c(r)}}}function d(r,n,o){var c=function(r){return function(n){var o=e.decode(n),t=o.words;if(o.prefix!==r)throw Error("Unexpected human-readable part in bech32 encoded address");var c=e.fromWords(t.slice(1)),f=t[0];return f>0&&(f+=80),Buffer.concat([Buffer.from([f,c.length]),Buffer.from(c)])}}(r),f=t(n,o);return function(e){return e.toLowerCase().startsWith(r+"1")?c(e):f(e)}}var a=function(r,e,n,o,t){return{coinType:e,decoder:d(n,o,t),encoder:f(n,o[0],t[0]),name:r}};function u(r){return function(e){return n.toChecksumAddress(e.toString("hex"),r||null)}}function s(r){return function(e){var o=n.stripHexPrefix(e);if(!n.isValidChecksumAddress(e,r||null)&&o!==o.toLowerCase()&&o!==o.toUpperCase())throw Error("Invalid address checksum");return Buffer.from(n.stripHexPrefix(e),"hex")}}var i=function(r,e,n){return{coinType:e,decoder:s(n),encoder:u(n),name:r}};function m(r){return function(n){return e.encode(r,e.toWords(n))}}var h=function(r,n,o){return{coinType:n,decoder:(t=o,function(r){var n=e.decode(r),o=n.words;if(n.prefix!==t)throw Error("Unrecognised address format");return Buffer.from(e.fromWords(o))}),encoder:m(o),name:r};var t};function l(r){return new Buffer(n.ss58Decode(r))}var B=function(r,e,n,o){return{coinType:e,decoder:o,encoder:n,name:r}},U=[a("BTC",0,"bc",[0],[5]),a("LTC",2,"ltc",[48],[50,5]),c("DOGE",3,[30],[22]),c("DASH",5,[76],[16]),c("PPC",6,[55],[117]),a("MONA",22,"mona",[50],[55,5]),B("XEM",43,function(r){return n.b32encode(n.hex2a(r.toString("hex")))},function(r){if(!n.isValid(r))throw Error("Unrecognised address format");var e=r.toString().toUpperCase().replace(/-/g,"");return n.b32decode(e)}),i("ETH",60),i("ETC",61),h("ATOM",118,"cosmos"),h("ZIL",119,"zil"),i("RSK",137,30),B("XRP",144,function(r){return n.codec.encodeChecked(r)},function(r){return n.codec.decodeChecked(r)}),B("BCH",145,function(r){switch(r.readUInt8(0)){case 118:if(169!==r.readUInt8(1)||136!==r.readUInt8(r.length-2)||172!==r.readUInt8(r.length-1))throw Error("Unrecognised address format");return n.cashaddrEncode("bitcoincash",0,r.slice(3,3+r.readUInt8(2)));case 169:if(135!==r.readUInt8(r.length-1))throw Error("Unrecognised address format");return n.cashaddrEncode("bitcoincash",1,r.slice(2,2+r.readUInt8(1)));default:throw Error("Unrecognised address format")}},function(r){var e=t([0],[5]);try{return e(r)}catch(e){return function(r){var e=n.cashaddrDecode(r),o=e.type,t=e.hash;if(0===o)return Buffer.concat([Buffer.from([118,169,20]),Buffer.from(t),Buffer.from([136,172])]);if(1===o)return Buffer.concat([Buffer.from([169,20]),Buffer.from(t),Buffer.from([135])]);throw Error("Unrecognised address format")}(r)}}),B("XLM",148,function(r){return n.encodeCheck("ed25519PublicKey",r)},function(r){return n.decodeCheck("ed25519PublicKey",r)}),B("EOS",194,function(r){if(!n.eosPublicKey.isValid(r))throw Error("Unrecognised address format");return n.eosPublicKey.fromHex(r).toString()},function(r){if(!n.eosPublicKey.isValid(r))throw Error("Unrecognised address format");return n.eosPublicKey(r).toBuffer()}),B("TRX",195,n.bs58Encode,n.bs58Decode),B("NEO",239,n.bs58Encode,n.bs58Decode),B("DOT",354,function(r){return n.ss58Encode(Uint8Array.from(r),0)},l),B("SOL",501,n.bs58Encode,n.bs58Decode),B("KSM",434,function(r){return n.ss58Encode(Uint8Array.from(r),2)},l),i("XDAI",700),i("VET",703),h("BNB",714,"bnb"),{coinType:1729,decoder:function(r){var e=n.bs58Decode(r).slice(3);switch(r.substring(0,3)){case"tz1":return Buffer.concat([Buffer.from([0,0]),e]);case"tz2":return Buffer.concat([Buffer.from([0,1]),e]);case"tz3":return Buffer.concat([Buffer.from([0,2]),e]);case"KT1":return Buffer.concat([Buffer.from([1]),e,Buffer.from([0])]);default:throw Error("Unrecognised address format")}},encoder:function(r){if(22!==r.length&&21!==r.length)throw Error("Unrecognised address format");var e;switch(r.readUInt8(0)){case 0:if(0===r.readUInt8(1))e=Buffer.from([6,161,159]);else if(1===r.readUInt8(1))e=Buffer.from([6,161,161]);else{if(2!==r.readUInt8(1))throw Error("Unrecognised address format");e=Buffer.from([6,161,164])}return n.bs58Encode(Buffer.concat([e,r.slice(2)]));case 1:return e=Buffer.from([2,90,121]),n.bs58Encode(Buffer.concat([e,r.slice(1,21)]));default:throw Error("Unrecognised address format")}},name:"XTZ"},h("ADA",1815,"addr"),i("CELO",52752)],E=Object.assign.apply(Object,[{}].concat(U.map(function(r){var e;return(e={})[r.name]=r,e}))),b=Object.assign.apply(Object,[{}].concat(U.map(function(r){var e;return(e={})[r.coinType]=r,e})));r.formatsByCoinType=b,r.formatsByName=E});
//# sourceMappingURL=index.umd.js.map
